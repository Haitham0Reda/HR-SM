<?xml version="1.0" encoding="UTF-8"?>
<testsuites name="jest tests" tests="15" failures="7" errors="0" time="2.588">
  <testsuite name="User Controller" errors="0" failures="7" skipped="0" timestamp="2025-11-07T23:19:34" time="2.496" tests="15">
    <testcase classname="User Controller loginUser should login user with valid credentials" name="User Controller loginUser should login user with valid credentials" time="0.148">
    </testcase>
    <testcase classname="User Controller loginUser should reject login with invalid credentials" name="User Controller loginUser should reject login with invalid credentials" time="0.072">
    </testcase>
    <testcase classname="User Controller getUserProfile should get user profile when authenticated" name="User Controller getUserProfile should get user profile when authenticated" time="0.073">
    </testcase>
    <testcase classname="User Controller getAllUsers should get all users" name="User Controller getAllUsers should get all users" time="0.07">
      <failure>Error: expect(jest.fn()).not.toHaveBeenCalledWith(...expected)

Expected: not 500

Number of calls: 1
    at Object.toHaveBeenCalledWith (D:\work\HR-SM\server\testing\__tests__\controllers\user.controller.test.js:204:30)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="User Controller getUserById should get user by ID" name="User Controller getUserById should get user by ID" time="0.071">
      <failure>Error: expect(jest.fn()).not.toHaveBeenCalledWith(...expected)

Expected: not 500

Number of calls: 1
    at Object.toHaveBeenCalledWith (D:\work\HR-SM\server\testing\__tests__\controllers\user.controller.test.js:236:30)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="User Controller getUserById should return 404 when user not found" name="User Controller getUserById should return 404 when user not found" time="0.067">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: 404
Received: 500

Number of calls: 1
    at Object.toHaveBeenCalledWith (D:\work\HR-SM\server\testing\__tests__\controllers\user.controller.test.js:264:26)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="User Controller createUser should create a new user" name="User Controller createUser should create a new user" time="0.126">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: 201
Received: 400

Number of calls: 1
    at Object.toHaveBeenCalledWith (D:\work\HR-SM\server\testing\__tests__\controllers\user.controller.test.js:308:26)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="User Controller createUser should reject creation with invalid data" name="User Controller createUser should reject creation with invalid data" time="0.068">
    </testcase>
    <testcase classname="User Controller createUser should reject creation with duplicate username or email" name="User Controller createUser should reject creation with duplicate username or email" time="0.065">
    </testcase>
    <testcase classname="User Controller updateUser should update an existing user" name="User Controller updateUser should update an existing user" time="0.065">
      <failure>Error: expect(received).toBe(expected) // Object.is equality

Expected: &quot;updateduser&quot;
Received: undefined
    at Object.toBe (D:\work\HR-SM\server\testing\__tests__\controllers\user.controller.test.js:403:33)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="User Controller updateUser should return 404 when updating non-existent user" name="User Controller updateUser should return 404 when updating non-existent user" time="0.066">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: 404
Received: 400

Number of calls: 1
    at Object.toHaveBeenCalledWith (D:\work\HR-SM\server\testing\__tests__\controllers\user.controller.test.js:432:26)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="User Controller updateUser should reject update with invalid data" name="User Controller updateUser should reject update with invalid data" time="0.066">
    </testcase>
    <testcase classname="User Controller updateUser should reject update with duplicate username or email" name="User Controller updateUser should reject update with duplicate username or email" time="0.127">
      <failure>MongoServerError: E11000 duplicate key error collection: test.users index: employeeId_1 dup key: { employeeId: &quot;EMID-0001&quot; }
    at InsertOneOperation.handleOk (D:\work\HR-SM\node_modules\mongodb\src\operations\insert.ts:79:13)
    at tryOperation (D:\work\HR-SM\node_modules\mongodb\src\operations\execute_operation.ts:290:26)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at executeOperation (D:\work\HR-SM\node_modules\mongodb\src\operations\execute_operation.ts:119:12)
    at Collection.insertOne (D:\work\HR-SM\node_modules\mongodb\src\collection.ts:294:12)</failure>
    </testcase>
    <testcase classname="User Controller deleteUser should delete an existing user" name="User Controller deleteUser should delete an existing user" time="0.065">
    </testcase>
    <testcase classname="User Controller deleteUser should return 404 when deleting non-existent user" name="User Controller deleteUser should return 404 when deleting non-existent user" time="0.066">
    </testcase>
  </testsuite>
</testsuites>